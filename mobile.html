<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Dondlinger General Contracting ‚Äî Design-Build</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
        content="Design-build construction and architectural drawings prepared for real projects ‚Äî not just concepts." />

    <style>
        :root {
            --bg: #0b0d11;
            --panel: rgba(18, 22, 34, 0.8);
            --border: rgba(35, 41, 58, 0.5);
            --fg: #eef1f7;
            --muted: #9aa3b2;
            --accent: #f0a23b;
            --glass: blur(12px) saturate(180%);
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            margin: 0;
            height: 100%;
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: radial-gradient(circle at top right, #1a1f2e, var(--bg));
            color: var(--fg);
            overflow-x: hidden;
            overflow-y: auto;
        }

        .app {
            display: grid;
            grid-template-columns: 1fr 1.4fr;
            min-height: 100vh;
        }

        @media (max-width:900px) {
            .app {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto;
            }

            .right {
                min-height: 500px;
                display: flex;
                flex-direction: column;
            }
        }

        /* ===== RIGHT PANEL ===== */
        .right {
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            overflow: hidden;
        }

        /* ===== LEFT PANEL (IDENTITY) ===== */
        .left {
            padding: 48px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background:
                linear-gradient(180deg, rgba(0, 0, 0, .7), rgba(0, 0, 0, .9)),
                url("https://images.unsplash.com/photo-1503387762-592deb58ef4e?auto=format&fit=crop&w=1600&q=80");
            background-size: cover;
            background-position: center;
            border-right: 1px solid var(--border);
        }

        @media (max-width:900px) {
            .left {
                padding: 24px;
                border-right: none;
                border-bottom: 1px solid var(--border);
            }
        }

        .left h1 {
            font-size: clamp(2.2rem, 4vw, 3rem);
            margin: 0 0 12px;
        }

        .left p {
            color: var(--muted);
            max-width: 520px;
            font-size: 1.05rem;
        }

        .location {
            margin-top: 14px;
            font-weight: 600;
        }

        .cta {
            margin-top: 28px;
        }

        .cta a {
            display: inline-block;
            padding: 14px 20px;
            background: var(--accent);
            color: #000;
            font-weight: 700;
            text-decoration: none;
            border-radius: 6px;
        }

        .contact-form {
            margin-top: 24px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .contact-form label {
            display: flex;
            flex-direction: column;
            font-size: 0.9rem;
            color: var(--muted);
        }

        .contact-form input,
        .contact-form textarea {
            margin-top: 6px;
            padding: 10px;
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--fg);
            font-family: inherit;
        }

        .contact-form textarea {
            resize: vertical;
            min-height: 80px;
        }

        .contact-form button {
            padding: 12px;
            background: var(--accent);
            color: #000;
            border: none;
            border-radius: 6px;
            font-weight: 700;
            cursor: pointer;
            transition: background 0.2s;
        }

        .contact-form button:hover {
            background: #d4a13b;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h2 {
            margin: 0
        }

        .tabs {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tabs button {
            background: none;
            border: 1px solid var(--border);
            color: var(--fg);
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 6px;
        }

        .tabs button.active {
            border-color: var(--accent);
            color: var(--accent);
        }

        .viewer {
            flex: 1;
            border: 1px solid var(--border);
            border-radius: 10px;
            overflow: hidden;
            background: #000;
            position: relative;
            min-height: 400px;
        }

        /* ===== LAB IFRAMES ===== */
        iframe {
            width: 100%;
            height: 100%;
            min-height: 400px;
            border: none;
            display: none;
        }

        iframe.active {
            display: block
        }

        /* ===== CONSTRUCTION GRID ===== */
        .panel {
            display: none;
            height: 100%;
            min-height: 400px;
            overflow: auto;
            background: #0e121a;
            padding: 24px;
        }

        .panel.active {
            display: block
        }

        @media (max-width:900px) {
            .panel {
                padding: 16px;
            }
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 16px;
        }

        .project {
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            background: #000;
        }

        .project img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            display: block;
        }

        .project .info {
            padding: 10px;
            font-size: .9rem;
        }

        .project strong {
            display: block
        }

        /* ===== ARCHITECTURAL PRINTS ===== */
        .prints-layout {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 24px;
        }

        @media(max-width:900px) {
            .prints-layout {
                grid-template-columns: 1fr
            }
        }

        .print-preview {
            border: 1px solid var(--border);
            background: #05070c;
            padding: 20px;
        }

        .print-preview svg {
            width: 100%;
            stroke: #4fa3ff;
            stroke-width: 2;
            fill: none;
        }

        .print-caption {
            margin-top: 10px;
            font-size: .85rem;
            color: var(--muted);
        }

        .print-specs h3 {
            margin: 0 0 8px
        }

        .print-specs p {
            font-size: .9rem;
            color: var(--muted)
        }

        .print-specs label {
            display: block;
            margin-top: 14px;
            font-size: .85rem;
        }

        .print-specs select {
            width: 100%;
            margin-top: 6px;
            padding: 8px;
            background: #0e121a;
            color: var(--fg);
            border: 1px solid var(--border);
        }

        .print-cta {
            display: block;
            margin-top: 22px;
            padding: 14px;
            background: var(--accent);
            color: #000;
            text-align: center;
            font-weight: 700;
            text-decoration: none;
            border-radius: 6px;
        }

        .meta {
            font-size: .9rem;
            color: var(--muted);
            margin-top: 8px;
        }

        .blueprints-gallery {
            border: 1px solid var(--border);
            background: var(--panel);
            padding: 20px;
        }

        .blueprints-gallery h4 {
            margin: 0 0 16px 0;
            color: var(--fg);
        }

        .blueprints-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
        }

        .blueprint-item {
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            background: #000;
        }

        .blueprint-item img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            display: block;
        }

        .blueprint-item embed {
            width: 100%;
            height: 120px;
            border: none;
        }

        .blueprint-info {
            padding: 8px;
            font-size: .8rem;
            color: var(--muted);
            text-align: center;
        }
    </style>
</head>

<body>

    <div class="app">

        <!-- LEFT -->
        <section class="left">
            <div>
                <h1>Dondlinger General Contracting</h1>
                <p>Design-build construction and architectural drawings prepared for real projects ‚Äî not just concepts.
                </p>

                <div class="location">üìç Wisconsin Rapids, WI</div>
                <div class="location">üìû (715) 221-2825</div>

                <div class="cta">
                    <a href="mailto:dondlingergeneralcontracting@gmail.com">Have a project? Let's talk.</a>
                </div>

                <form action="/contact" method="post" class="contact-form">
                    <label>
                        Name
                        <input type="text" name="name" required>
                    </label>
                    <label>
                        Email
                        <input type="email" name="email" required>
                    </label>
                    <label>
                        Message
                        <textarea name="message" required></textarea>
                    </label>
                    <button type="submit">Send Message</button>
                </form>
            </div>

            <div class="footer-left">
                Licensed ¬∑ Insured ¬∑ Design-Build
            </div>
        </section>

        <!-- RIGHT -->
        <section class="right">

            <div class="header">
                <h2>Work & Services</h2>
            </div>

            <div class="tabs">
                <button class="active" data-tab="lab0">Digital Tools</button>
                <button data-tab="construction">Construction</button>
                <button data-tab="prints">Blueprints</button>
            </div>

            <div class="viewer">

                <!-- LAB -->
                <iframe class="active" data-id="lab0" src="wizard.html" title="Project Wizard Tool">
                </iframe>

                <!-- CONSTRUCTION -->
                <div class="panel" data-id="construction">
                    <div class="grid">

                        <div class="project">
                            <img
                                src="https://images.unsplash.com/photo-1596079890681-7c1c7d2f9a8b?auto=format&fit=crop&w=800&q=80">
                            <div class="info">
                                <strong>Residential Framing</strong>
                                <span>Wisconsin Rapids</span>
                            </div>
                        </div>

                        <div class="project">
                            <img
                                src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=800&q=80">
                            <div class="info">
                                <strong>Remodel & Finish Work</strong>
                                <span>Central Wisconsin</span>
                            </div>
                        </div>

                        <div class="project">
                            <img
                                src="https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=800&q=80">
                            <div class="info">
                                <strong>Structural Repair</strong>
                                <span>Wood County</span>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- ARCHITECTURAL PRINTS -->
                <div class="panel" data-id="prints">
                    <div class="prints-layout">

                        <div class="print-preview">
                            <div id="three-canvas-container"
                                style="width:100%; height:300px; background:#000; border-radius:4px; overflow:hidden;">
                            </div>
                            <div class="print-caption">
                                Interactive 3D Blueprint Preview ¬∑ Real-time Rendering
                            </div>
                        </div>

                        <div class="blueprints-gallery">
                            <h4>Available Blueprints</h4>
                            <div class="blueprints-grid" id="blueprints-grid">
                                <!-- Blueprints will be loaded dynamically -->
                            </div>
                        </div>

                        <div class="print-specs">
                            <h3>Request an Architectural Drawing</h3>
                            <p>
                                Design-build drawings prepared for construction,
                                permitting, or planning.
                            </p>

                            <label>
                                Project Type
                                <select>
                                    <option>Residential addition</option>
                                    <option>Garage / outbuilding</option>
                                    <option>Interior remodel</option>
                                    <option>Commercial build-out</option>
                                </select>
                            </label>

                            <label>
                                Approximate Size
                                <select>
                                    <option>&lt; 1,000 sq ft</option>
                                    <option>1,000 ‚Äì 2,500 sq ft</option>
                                    <option>2,500+ sq ft</option>
                                </select>
                            </label>

                            <label>
                                Drawing Purpose
                                <select>
                                    <option>Build-ready</option>
                                    <option>Permit submission</option>
                                    <option>Concept / feasibility</option>
                                </select>
                            </label>

                            <a class="print-cta"
                                href="mailto:dondlingergeneralcontracting@gmail.com?subject=Architectural%20Print%20Request">
                                Request This Drawing
                            </a>

                            <div class="meta">
                                Wisconsin Rapids, WI ¬∑ Design-Build ¬∑ Digital or Printed
                            </div>
                        </div>

                    </div>
                </div>

            </div>

            <div class="meta" id="desc">
                Interactive tools and systems
            </div>

        </section>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // --- Site functionality (works on all devices) ---
        window.addEventListener('DOMContentLoaded', function () {
            const tabs = [...document.querySelectorAll(".tabs button")];
            const panels = [...document.querySelectorAll("[data-id]")];
            const desc = document.getElementById("desc");
            const descriptions = {
                lab0: "Interactive tools and systems",
                construction: "Real construction work",
                prints: "Architectural drawings and blueprints"
            };
            let scene, camera, renderer, cube;

            function isMobile() {
                return window.innerWidth <= 768;
            }

            function initThree() {
                const container = document.getElementById('three-canvas-container');
                if (!container || renderer) return; // Skip if already initialized or no container

                // Skip 3D on mobile for performance
                if (isMobile()) {
                    container.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100%;color:var(--muted);text-align:center;padding:20px;"><p>3D Preview available on desktop</p></div>';
                    return;
                }

                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
                renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                renderer.setSize(container.clientWidth, container.clientHeight);
                container.appendChild(renderer.domElement);
                const geometry = new THREE.BoxGeometry(2, 0.1, 3);
                const wireframe = new THREE.WireframeGeometry(geometry);
                const line = new THREE.LineSegments(wireframe);
                line.material.color.setHex(0x4fa3ff);
                scene.add(line);
                const grid = new THREE.GridHelper(10, 10, 0x23293a, 0x23293a);
                grid.position.y = -0.5;
                scene.add(grid);
                camera.position.z = 5;
                camera.position.y = 2;
                camera.lookAt(0, 0, 0);
                function animate() {
                    requestAnimationFrame(animate);
                    line.rotation.y += 0.01;
                    renderer.render(scene, camera);
                }
                animate();
            }

            tabs.forEach(btn => {
                btn.onclick = () => {
                    const switchTab = () => {
                        tabs.forEach(b => b.classList.remove("active"));
                        btn.classList.add("active");
                        panels.forEach(p => {
                            p.classList.toggle("active", p.dataset.id === btn.dataset.tab);
                        });
                        desc.textContent = descriptions[btn.dataset.tab];
                        if (btn.dataset.tab === 'prints') {
                            initThree();
                        }
                    };
                    if (document.startViewTransition) {
                        document.startViewTransition(() => switchTab());
                    } else {
                        switchTab();
                    }
                };
            });

            if (document.querySelector('.tabs button.active')?.dataset.tab === 'prints') {
                initThree();
            }

            function loadBlueprints() {
                fetch('blueprints-manifest.json')
                    .then(response => response.json())
                    .then(blueprints => {
                        const grid = document.getElementById('blueprints-grid');
                        if (!grid) return;
                        grid.innerHTML = '';
                        blueprints.forEach(blueprint => {
                            const item = document.createElement('div');
                            item.className = 'blueprint-item' + (blueprint.type === 'pdf' ? ' pdf' : '');
                            if (blueprint.type === 'pdf') {
                                item.innerHTML = `
                                <embed src="/blueprints/${blueprint.filename}" width="100%" height="200" type="application/pdf">
                                <div class="blueprint-info">${blueprint.title}</div>
                            `;
                            } else {
                                item.innerHTML = `
                                <img src="/blueprints/${blueprint.filename}" alt="${blueprint.title}" onerror="this.style.display='none'">
                                <div class="blueprint-info">${blueprint.title}</div>
                            `;
                            }
                            grid.appendChild(item);
                        });
                    })
                    .catch(error => {
                        console.error('Error loading blueprints:', error);
                        const grid = document.getElementById('blueprints-grid');
                        if (grid) grid.innerHTML = '<div style="color:#f00;text-align:center;">Error loading blueprints</div>';
                    });
            }
            loadBlueprints();
        });
    </script>

</body>

</html>